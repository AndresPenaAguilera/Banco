version: '3.4'

services:
  clientes.api:
    image: ${DOCKER_REGISTRY-}clientesapi
    build:
      context: .
      dockerfile: Clientes.API/Dockerfile

  cuentas.api:
    image: ${DOCKER_REGISTRY-}cuentasapi
    build:
      context: .
      dockerfile: Cuentas.API/Dockerfile

  movimientos.api:
    image: ${DOCKER_REGISTRY-}movimientosapi
    build:
      context: .
      dockerfile: Movimientos.API/Dockerfile

  api.gateway:
    image: ${DOCKER_REGISTRY-}apigateway
    build:
      context: .
      dockerfile: API.Gateway/Dockerfile

networks: 
  default:
    external:
      name: banconet


